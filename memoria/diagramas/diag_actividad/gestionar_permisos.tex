% Gestionar permisos 
\newcommand{\gestionarPermisos}{
\begin{tikzpicture}

\umlstateinitial[name=initial]

\begin{umlstate}[x=0, y=-3,name=sesion]{Iniciar sesi√≥n}
\end{umlstate}

\umlstatedecision[y=-6, name=check] 

\begin{umlstate}[x=0, y=-9,name=datos]{Introducir datos usuario a cambiar permisos}
\end{umlstate}

\begin{umlstate}[y=-12,name=bd]{Conectar a la BD}
\end{umlstate}

\begin{umlstate}[x=7, y=-12, name=actualizar]{Buscar usuarios}
\end{umlstate}


\umlstatedecision[x=7, y=-9, name=otrocheck] 

\begin{umlstate}[x=7, y=-6,name=comprobar]{Gestionar los permisos}
\end{umlstate}

\begin{umlstate}[x=7, y=-3,name=actbd]{Actualizar BD}
\end{umlstate}

\umlstatefinal[x=7, y=0, name=final]

\begin{umlstate}[x=7, y=3, name=notificar]{Notificar}
\end{umlstate}

\umltrans{initial}{sesion}
\umltrans{sesion}{check}
\umltrans[arg1=SI]{check}{datos}
\umltrans{datos}{bd}
\umltrans{bd}{actualizar}
\umltrans{actualizar}{otrocheck}
\umltrans[arg1=SI]{otrocheck}{comprobar}
\umltrans{comprobar}{actbd}
\umltrans{actbd}{final}
\umltrans{notificar}{final}
\umlHVHtrans[arg1=NO]{check}{notificar}
\umlHVHtrans[arg1=NO, arm1=4cm,pos1=0.4]{otrocheck}{notificar}

\end{tikzpicture}
}